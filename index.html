<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÌïôÍµê ÌèâÍ∞Ä Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú - 2ÌïôÍ∏∞ Premium Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&display=swap">
    
    <style>
      :root {
        --primary: #6366F1;
        --primary-dark: #4F46E5;
        --secondary: #EC4899;
        --accent: #F59E0B;
        --success: #10B981;
        --warning: #F59E0B;
        --danger: #EF4444;
        --dark: #0F172A;
        --light: #F8FAFC;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Poppins', 'Noto Sans KR', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #1e293b;
        overflow-x: hidden;
      }

      /* Glassmorphism */
      .glass {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .glass-white {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      }

      /* Premium Card */
      .premium-card {
        background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%);
        backdrop-filter: blur(20px);
        border-radius: 24px;
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 
          0 20px 60px rgba(0, 0, 0, 0.1),
          0 0 0 1px rgba(255, 255, 255, 0.5) inset;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden;
        position: relative;
      }

      .premium-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        opacity: 0;
        transition: opacity 0.3s;
      }

      .premium-card:hover {
        transform: translateY(-8px);
        box-shadow: 
          0 30px 80px rgba(0, 0, 0, 0.15),
          0 0 0 1px rgba(255, 255, 255, 0.5) inset;
      }

      .premium-card:hover::before {
        opacity: 1;
      }

      /* Animated Gradient Text */
      .gradient-text {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        background-size: 200% 200%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: gradientShift 4s ease infinite;
      }

      @keyframes gradientShift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }

      /* Floating Animation */
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
      }

      .float {
        animation: float 6s ease-in-out infinite;
      }

      /* Pulse Animation */
      @keyframes pulse-slow {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
      }

      .pulse-slow {
        animation: pulse-slow 3s ease-in-out infinite;
      }

      /* Glow Animation */
      @keyframes glow {
        0%, 100% { 
          box-shadow: 0 0 20px rgba(99, 102, 241, 0.5), 0 0 40px rgba(99, 102, 241, 0.3), 0 0 60px rgba(99, 102, 241, 0.1);
        }
        50% { 
          box-shadow: 0 0 40px rgba(99, 102, 241, 0.8), 0 0 80px rgba(99, 102, 241, 0.5), 0 0 120px rgba(99, 102, 241, 0.3);
        }
      }

      .glow {
        animation: glow 2s ease-in-out infinite;
      }

      /* Bounce Animation */
      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-30px); }
        60% { transform: translateY(-15px); }
      }

      .bounce {
        animation: bounce 2s ease infinite;
      }

      /* Shake Animation */
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }

      .shake {
        animation: shake 0.8s ease-in-out;
      }

      /* Zoom In Animation */
      @keyframes zoomIn {
        from {
          opacity: 0;
          transform: scale(0.3);
        }
        50% {
          opacity: 1;
        }
        to {
          transform: scale(1);
        }
      }

      .zoom-in {
        animation: zoomIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      }

      /* Flip Animation */
      @keyframes flipIn {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        to {
          transform: perspective(400px) rotateY(0);
          opacity: 1;
        }
      }

      .flip-in {
        animation: flipIn 0.8s ease-out forwards;
      }

      /* Slide Up Bounce */
      @keyframes slideUpBounce {
        0% {
          opacity: 0;
          transform: translateY(100px);
        }
        60% {
          transform: translateY(-20px);
        }
        80% {
          transform: translateY(10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .slide-up-bounce {
        animation: slideUpBounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      }

      /* Rotate In */
      @keyframes rotateIn {
        from {
          transform: rotate(-200deg) scale(0);
          opacity: 0;
        }
        to {
          transform: rotate(0) scale(1);
          opacity: 1;
        }
      }

      .rotate-in {
        animation: rotateIn 0.8s ease-out forwards;
      }

      /* Typewriter Effect */
      @keyframes typewriter {
        from { width: 0; }
        to { width: 100%; }
      }

      .typewriter {
        overflow: hidden;
        white-space: nowrap;
        animation: typewriter 2s steps(40) forwards;
      }

      /* Rainbow Animation */
      @keyframes rainbow {
        0% { color: #ff6b6b; }
        14% { color: #feca57; }
        28% { color: #48dbfb; }
        42% { color: #ff9ff3; }
        57% { color: #54a0ff; }
        71% { color: #5f27cd; }
        85% { color: #00d2d3; }
        100% { color: #ff6b6b; }
      }

      .rainbow {
        animation: rainbow 3s linear infinite;
      }

      /* Counter Pulse */
      @keyframes counterPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); color: #feca57; }
        100% { transform: scale(1); }
      }

      .counter-pulse {
        animation: counterPulse 0.5s ease-out;
      }

      /* Sparkle Animation */
      @keyframes sparkle {
        0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
        25% { opacity: 0.8; transform: scale(1.2) rotate(90deg); }
        50% { opacity: 1; transform: scale(0.8) rotate(180deg); }
        75% { opacity: 0.8; transform: scale(1.1) rotate(270deg); }
      }

      .sparkle {
        animation: sparkle 2s ease-in-out infinite;
      }

      /* Wave Animation */
      @keyframes wave {
        0%, 100% { transform: translateY(0); }
        25% { transform: translateY(-10px); }
        75% { transform: translateY(10px); }
      }

      .wave-1 { animation: wave 1.5s ease-in-out infinite; animation-delay: 0s; }
      .wave-2 { animation: wave 1.5s ease-in-out infinite; animation-delay: 0.1s; }
      .wave-3 { animation: wave 1.5s ease-in-out infinite; animation-delay: 0.2s; }
      .wave-4 { animation: wave 1.5s ease-in-out infinite; animation-delay: 0.3s; }

      /* Fade In Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(60px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in-up {
        animation: fadeInUp 0.8s ease-out forwards;
      }

      @keyframes fadeInScale {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .fade-in-scale {
        animation: fadeInScale 0.8s ease-out forwards;
      }

      @keyframes fadeInLeft {
        from {
          opacity: 0;
          transform: translateX(-100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .fade-in-left {
        animation: fadeInLeft 0.8s ease-out forwards;
      }

      @keyframes fadeInRight {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .fade-in-right {
        animation: fadeInRight 0.8s ease-out forwards;
      }

      /* Slide Transitions */
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .slide-in-right {
        animation: slideInRight 0.8s ease-out forwards;
      }

      /* Number Counter Animation */
      .number-counter {
        font-variant-numeric: tabular-nums;
        font-feature-settings: 'tnum';
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
      }

      ::-webkit-scrollbar-thumb {
        background: rgba(99, 102, 241, 0.5);
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: rgba(99, 102, 241, 0.7);
      }

      /* Button Styles */
      .btn-premium {
        position: relative;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .btn-premium::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .btn-premium:hover::before {
        width: 300px;
        height: 300px;
      }

      /* Presentation Styles */
      .presentation-slide {
        background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        position: relative;
        overflow: hidden;
      }

      .presentation-slide::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
        animation: rotate 20s linear infinite;
      }

      @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      /* Loading Animation */
      @keyframes shimmer {
        0% {
          background-position: -1000px 0;
        }
        100% {
          background-position: 1000px 0;
        }
      }

      .shimmer {
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        background-size: 1000px 100%;
        animation: shimmer 2s infinite;
      }

      /* Responsive Typography - Larger */
      .display-1 {
        font-size: clamp(4rem, 10vw, 8rem);
        font-weight: 900;
        line-height: 1.1;
        letter-spacing: -0.02em;
      }

      .display-2 {
        font-size: clamp(3rem, 7vw, 5rem);
        font-weight: 800;
        line-height: 1.2;
        letter-spacing: -0.01em;
      }

      .display-3 {
        font-size: clamp(2rem, 5vw, 4rem);
        font-weight: 700;
        line-height: 1.3;
      }

      /* Form Styles */
      .form-input {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 14px;
        transition: all 0.3s;
        background: white;
      }

      .form-input:focus {
        outline: none;
        border-color: #6366F1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        font-weight: 600;
        color: #475569;
      }

      /* Stagger Animation Delays */
      .stagger-1 { animation-delay: 0.1s; }
      .stagger-2 { animation-delay: 0.2s; }
      .stagger-3 { animation-delay: 0.3s; }
      .stagger-4 { animation-delay: 0.4s; }
      .stagger-5 { animation-delay: 0.5s; }
      .stagger-6 { animation-delay: 0.6s; }

      /* Progress Bar Animation */
      @keyframes progressFill {
        from { width: 0%; }
      }

      .progress-animate {
        animation: progressFill 2s ease-out forwards;
      }

      /* Card Hover 3D Effect */
      .card-3d {
        transition: transform 0.3s ease;
        transform-style: preserve-3d;
      }

      .card-3d:hover {
        transform: perspective(1000px) rotateX(5deg) rotateY(-5deg) translateZ(20px);
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;
        const { createRoot } = ReactDOM;

        // Mock Data - 2025ÌïôÎÖÑÎèÑ 2ÌïôÍ∏∞ ÌïôÍµêÌèâÍ∞Ä Í≤∞Í≥º
        const mockSchoolData = {
          "schoolName": "ÏõêÎ¨µÍ≥†Îì±ÌïôÍµê",
          "semester": "2ÌïôÍ∏∞",
          "kpiData": [
                    {
                              "title": "Ï¢ÖÌï© ÎßåÏ°±ÎèÑ",
                              "value": 4.01,
                              "total": 5.0,
                              "change": -0.04,
                              "changeType": "decrease",
                              "targetSlide": 1,
                              "icon": "‚≠ê"
                    },
                    {
                              "title": "Ï¥ù Ï∞∏Ïó¨ Ïù∏Ïõê",
                              "value": 696,
                              "unit": "Î™Ö",
                              "change": 76,
                              "changeType": "increase",
                              "targetSlide": 2,
                              "icon": "üë•"
                    },
                    {
                              "title": "Ï†ÑÎÖÑ ÎåÄÎπÑ Î≥ÄÌôî",
                              "value": -0.04,
                              "unit": "Ï†ê",
                              "change": 0,
                              "changeType": "decrease",
                              "targetSlide": 7,
                              "icon": "üìà"
                    }
          ],
          "categoryData": [
                    { "name": "ÌïôÍµêÏûêÏπò", "2024": 4.07, "2025": 4.01 },
                    { "name": "ÍµêÏú°Í≥ºÏ†ï Ìé∏ÏÑ±¬∑Ïö¥ÏòÅ", "2024": 4.13, "2025": 4.09 },
                    { "name": "ÏàòÏóÖ¬∑ÌèâÍ∞Ä ÌòÅÏã†", "2024": 4.11, "2025": 4.04 },
                    { "name": "Ï±ÖÏûÑÍµêÏú°", "2024": 4.19, "2025": 4.09 },
                    { "name": "Ïù∏Î¨∏¬∑Í≥ºÌïô¬∑ÏòàÏ≤¥Îä•", "2024": 4.21, "2025": 4.08 },
                    { "name": "ÎØºÏ£ºÏãúÎØº ÍµêÏú°", "2024": 4.11, "2025": 4.05 },
                    { "name": "ÏïàÏ†ÑÌïú ÍµêÏú°Í≥µÍ∞Ñ", "2024": 4.15, "2025": 4.09 }
          ],
          "respondentData": [
                    { "name": "ÍµêÏõê", "value": 50, "color": "#6366F1", "avg": 4.55 },
                    { "name": "ÌïôÏÉù", "value": 551, "color": "#EC4899", "avg": 3.95 },
                    { "name": "ÌïôÎ∂ÄÎ™®", "value": 84, "color": "#10B981", "avg": 4.13 },
                    { "name": "ÏßÅÏõê", "value": 11, "color": "#F59E0B", "avg": 4.59 }
          ],
          "trendData": [
                    { "year": "2022", "teacher": 4.70, "student": 3.66, "parent": 4.20, "staff": 4.60, "overall": 3.82 },
                    { "year": "2023", "teacher": 4.90, "student": 4.11, "parent": 4.41, "staff": 4.64, "overall": 4.21 },
                    { "year": "2024", "teacher": 4.64, "student": 3.97, "parent": 4.26, "staff": 4.30, "overall": 4.05 },
                    { "year": "2025", "teacher": 4.55, "student": 3.95, "parent": 4.13, "staff": 4.59, "overall": 4.01 }
          ],
          "comparisonData": {
                    "teacher": { "average": 4.55, "highest": 4.78, "lowest": 4.16 },
                    "student": { "average": 3.95, "highest": 4.07, "lowest": 3.78 },
                    "parent": { "average": 4.13, "highest": 4.26, "lowest": 4.05 },
                    "staff": { "average": 4.59, "highest": 4.91, "lowest": 4.36 }
          },
          "topBottomItems": {
                    "teacherTop": [
                              { "title": "ÎèÖÏÑú¬∑ÌÜ†Î°†¬∑Ïù∏Î¨∏ÏÜåÏñëÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Îã§ÏñëÌïòÍ≤å Ïö¥ÏòÅÌïòÍ≥† ÏûàÎã§.", "score": 4.78 },
                              { "title": "ÏûêÍ∏∞Ï£ºÎèÑÏ†Å ÌïôÏäµÏó≠Îüâ Í∞ïÌôîÎ•º ÏúÑÌïú ÌîÑÎ°úÍ∑∏Îû®Ïù¥ Ïö¥ÏòÅÎêòÍ≥† ÏûàÎã§.", "score": 4.76 },
                              { "title": "Ï†ïÍ∏∞Í≥†ÏÇ¨Î•º Ìè¨Ìï®Ìïú Î™®Îì† ÌèâÍ∞ÄÏùò ÌïôÏóÖ ÏÑ±Ï†ÅÍ¥ÄÎ¶¨Í∞Ä Í≥µÏ†ïÌïòÍ≤å Ïù¥Î£®Ïñ¥ÏßÄÍ≥† ÏûàÎã§.", "score": 4.76 }
                    ],
                    "teacherBottom": [
                              { "title": "ÏûêÏú†Î°úÏö¥ ÏÜåÌÜµÍ≥º ÎØºÏ£ºÏ†ÅÏù∏ ÌÜ†Ïùò¬∑ÌÜ†Î°†ÏúºÎ°ú ÌïôÍµêÏö¥ÏòÅÏù¥ Ïù¥Î£®Ïñ¥ÏßÄÍ≥† ÏûàÎã§.", "score": 4.16 },
                              { "title": "ÌïôÍµêÏóÖÎ¨¥ Ïû¨Íµ¨Ï°∞ÌôîÎ•º ÌÜµÌï¥ ÍµêÏÇ¨Ïùò ÌñâÏ†ï ÏóÖÎ¨¥Î•º Í≤ΩÍ∞êÌïòÍ≥† ÏûàÎã§.", "score": 4.22 },
                              { "title": "Ï≤¥Ìóò Ï§ëÏã¨ ÏïàÏ†Ñ ÍµêÏú°ÏùÑ Ïã§ÏãúÌïòÍ≥† ÏûàÎã§.", "score": 4.34 }
                    ],
                    "studentTop": [
                              { "title": "ÎèÖÏÑú¬∑ÌÜ†Î°†¬∑Ïù∏Î¨∏ÏÜåÏñëÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Îã§ÏñëÌïòÍ≤å Ïö¥ÏòÅÌïòÍ≥† ÏûàÎã§.", "score": 4.07 },
                              { "title": "Ï†ïÍ∏∞Í≥†ÏÇ¨Î•º Ìè¨Ìï®Ìïú Î™®Îì† ÌèâÍ∞ÄÏùò ÌïôÏóÖ ÏÑ±Ï†ÅÍ¥ÄÎ¶¨Í∞Ä Í≥µÏ†ïÌïòÍ≤å Ïù¥Î£®Ïñ¥ÏßÄÍ≥† ÏûàÎã§.", "score": 4.04 },
                              { "title": "ÎØ∏Îûò ÏúµÌï©Ïù∏Ïû¨ Ïú°ÏÑ±ÏùÑ ÏúÑÌï¥ Îã§ÏñëÌïú ÏàòÌïô¬∑Í≥ºÌïô Ï≤¥Ìóò ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Ïö¥ÏòÅÌïòÍ≥† ÏûàÎã§.", "score": 4.03 }
                    ],
                    "studentBottom": [
                              { "title": "ÌïôÏÉùÍ≥º ÌïôÎ∂ÄÎ™®Ïùò ÏùòÍ≤¨ÏùÑ Î∞òÏòÅÌïú ÏàòÎ†®ÌôúÎèôÏù¥ Ïù¥Î£®Ïñ¥ÏßÄÍ≥† ÏûàÎã§.", "score": 3.78 },
                              { "title": "Ï≤¥Ìóò Ï§ëÏã¨ ÏïàÏ†Ñ ÍµêÏú°ÏùÑ Ïã§ÏãúÌïòÍ≥† ÏûàÎã§.", "score": 3.86 },
                              { "title": "Í≥ºÏ†ïÏ§ëÏã¨ ÏàòÌñâ ÌèâÍ∞ÄÍ∞Ä Ïù¥Î£®Ïñ¥ÏßÄÍ≥† ÏûàÎã§.", "score": 3.87 }
                    ]
          },
          "aiInsights": [
                    { "type": "achievement", "title": "üèÜ ÍµêÏõê ÏµúÍ≥† ÏÑ±Í≥º", "content": "ÎèÖÏÑú¬∑ÌÜ†Î°†¬∑Ïù∏Î¨∏ÏÜåÏñëÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®Ïù¥ 4.78Ï†êÏúºÎ°ú ÍµêÏõê ÌèâÍ∞Ä ÏµúÍ≥† ÎßåÏ°±ÎèÑÎ•º Í∏∞Î°ùÌñàÏäµÎãàÎã§." },
                    { "type": "achievement", "title": "üèÜ ÏßÅÏõê ÏµúÍ≥† ÏÑ±Í≥º", "content": "ÏßÅÏõê ÎßåÏ°±ÎèÑÍ∞Ä 4.59Ï†êÏúºÎ°ú Ï†ÑÎÖÑ(4.30) ÎåÄÎπÑ 0.29Ï†ê ÏÉÅÏäπÌñàÏäµÎãàÎã§." },
                    { "type": "improvement", "title": "‚ö†Ô∏è Í∞úÏÑ† ÌïÑÏöî (ÍµêÏõê)", "content": "ÏÜåÌÜµ Î∞è ÎØºÏ£ºÏ†Å ÌÜ†Ïùò¬∑ÌÜ†Î°† ÎßåÏ°±ÎèÑÍ∞Ä 4.16Ï†êÏúºÎ°ú ÍµêÏõê ÌèâÍ∞Ä Ï§ë Í∞ÄÏû• ÎÇÆÏäµÎãàÎã§." },
                    { "type": "improvement", "title": "‚ö†Ô∏è Í∞úÏÑ† ÌïÑÏöî (ÌïôÏÉù)", "content": "ÏàòÎ†®ÌôúÎèô ÏùòÍ≤¨ Î∞òÏòÅÏù¥ 3.78Ï†êÏúºÎ°ú ÌïôÏÉù ÌèâÍ∞Ä Ï§ë Í∞ÄÏû• ÎÇÆÏùÄ ÎßåÏ°±ÎèÑÎ•º Î≥¥ÏûÖÎãàÎã§." },
                    { "type": "action", "title": "üéØ Ï¶âÏãú Ï°∞Ïπò", "content": "ÌïôÏÉù Ï∞∏Ïó¨Ìòï ÏàòÎ†®ÌôúÎèô Í∏∞ÌöçÍ≥º ÍµêÏõê Í∞Ñ ÏÜåÌÜµ Ï±ÑÎÑê Í∞ïÌôîÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§." }
          ],
          "voices": [
                    { "emoji": "üòä", "text": "ÎèÖÏÑúÌÜ†Î°†Í≥º Ïù∏Î¨∏ÏÜåÏñë ÌîÑÎ°úÍ∑∏Îû®Ïù¥ Îß§Ïö∞ ÎßåÏ°±Ïä§ÎüΩÏäµÎãàÎã§!", "source": "ÍµêÏõê" },
                    { "emoji": "üí°", "text": "ÎåÄÏûÖÏª®ÏÑ§ÌåÖ ÌîÑÎ°úÍ∑∏Îû®Ïù¥ ÎèÑÏõÄÏù¥ ÎßéÏù¥ ÎêòÏóàÏäµÎãàÎã§.", "source": "ÌïôÎ∂ÄÎ™®" },
                    { "emoji": "üòü", "text": "2ÌïôÎÖÑ ÏàòÎ†®ÌôúÎèôÏùÑ Íº≠ Ìï¥Ï£ºÏÑ∏Ïöî.", "source": "ÌïôÏÉù" },
                    { "emoji": "ü§î", "text": "Ìñ•ÌïôÎãπ Í¥ÄÎ¶¨Í∞Ä Îçî Ï≤†Ï†ÄÌñàÏúºÎ©¥ Ï¢ãÍ≤†Ïñ¥Ïöî.", "source": "ÌïôÎ∂ÄÎ™®" }
          ],
          "responseRates": {
            "teacher": 100,
            "student": 95.5,
            "parent": 82.3,
            "staff": 100
          },
          "actionItems": [
                    { "priority": 1, "title": "ÌïôÏÉù Ï∞∏Ïó¨Ìòï ÏàòÎ†®ÌôúÎèô Í∏∞Ìöç", "details": ["2ÌïôÎÖÑ ÏàòÎ†®ÌôúÎèô Ï∂îÏßÑ", "ÌïôÏÉù/ÌïôÎ∂ÄÎ™® ÏÇ¨Ï†Ñ ÏùòÍ≤¨ ÏàòÎ†¥"], "icon": "üéâ" },
                    { "priority": 2, "title": "ÍµêÏõê ÏÜåÌÜµ Ï±ÑÎÑê Í∞ïÌôî", "details": ["ÎØºÏ£ºÏ†Å ÌÜ†Ïùò¬∑ÌÜ†Î°† ÌôúÏÑ±Ìôî", "ÌñâÏ†ïÏóÖÎ¨¥ Í≤ΩÍ∞ê Î∞©Ïïà ÎßàÎ†®"], "icon": "üí¨" },
                    { "priority": 3, "title": "Ïö∞Ïàò ÌîÑÎ°úÍ∑∏Îû® ÌôïÎåÄ", "details": ["ÎèÖÏÑú/Ïù∏Î¨∏ÍµêÏú° Í∞ïÌôî", "Ìñ•ÌïôÎãπ Í¥ÄÎ¶¨ Í∞úÏÑ†"], "icon": "üìö" }
          ],
          "roadmap": [
                    { "quarter": "1Î∂ÑÍ∏∞", "period": "3-5Ïõî", "task": "ÏàòÎ†®ÌôúÎèô Í∏∞Ìöç Î∞è ÏùòÍ≤¨ ÏàòÎ†¥", "color": "#6366F1" },
                    { "quarter": "2Î∂ÑÍ∏∞", "period": "6-8Ïõî", "task": "ÍµêÏõê ÏÜåÌÜµ Ï≤¥Í≥Ñ Í∞úÏÑ†", "color": "#10B981" },
                    { "quarter": "3Î∂ÑÍ∏∞", "period": "9-11Ïõî", "task": "Ïö∞Ïàò ÌîÑÎ°úÍ∑∏Îû® ÌôïÎåÄ Ïö¥ÏòÅ", "color": "#F59E0B" },
                    { "quarter": "4Î∂ÑÍ∏∞", "period": "12-2Ïõî", "task": "Ìö®Í≥º Ï∏°Ï†ï Î∞è ÌîºÎìúÎ∞±", "color": "#EC4899" }
          ],
          "goal": { "currentScore": 4.01, "targetScore": 4.2, "currentRank": 0, "targetRank": 0, "totalSchools": 0 }
        };

        // Custom Hook: useCountUp
        const useCountUp = (end, start = 0, duration = 2000, decimals = 2) => {
            const [count, setCount] = useState(start);
            const animationFrameId = useRef(null);
            
            useEffect(() => {
                let frame = 0;
                const totalFrames = Math.round(duration / (1000 / 60));
                const easeOutExpo = t => t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
                
                const counter = () => {
                    frame++;
                    const progress = easeOutExpo(frame / totalFrames);
                    const currentCount = start + (end - start) * progress;
                    setCount(parseFloat(currentCount.toFixed(decimals)));
                    
                    if (frame < totalFrames) {
                        animationFrameId.current = requestAnimationFrame(counter);
                    } else {
                        setCount(end);
                    }
                };
                
                animationFrameId.current = requestAnimationFrame(counter);
                
                return () => {
                    if (animationFrameId.current) {
                        cancelAnimationFrame(animationFrameId.current);
                    }
                };
            }, [end, start, duration, decimals]);
            
            return count;
        };

        // Icons
        const SchoolIcon = () => (
            <svg className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/>
                <path d="M5 13.18v4L12 21l7-3.82v-4"/>
            </svg>
        );

        const SparkleIcon = () => (
            <svg className="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z"/>
            </svg>
        );

        // Premium Chart Components
        const PremiumPieChart = ({ data }) => {
            const canvasRef = useRef(null);
            const chartRef = useRef(null);

            useEffect(() => {
                if (canvasRef.current) {
                    const ctx = canvasRef.current.getContext('2d');
                    
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }

                    chartRef.current = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: data.map(d => d.name),
                            datasets: [{
                                data: data.map(d => d.value),
                                backgroundColor: data.map(d => d.color),
                                borderWidth: 4,
                                borderColor: '#ffffff',
                                hoverBorderColor: '#ffffff',
                                hoverBorderWidth: 6,
                                hoverOffset: 15,
                            }]
                        },
                        options: {
                            responsive: false,
                            maintainAspectRatio: true,
                            cutout: '60%',
                            plugins: {
                                legend: { display: false },
                                tooltip: {
                                    backgroundColor: 'rgba(15, 23, 42, 0.95)',
                                    titleFont: { size: 18, weight: 'bold' },
                                    bodyFont: { size: 16 },
                                    padding: 20,
                                    cornerRadius: 12,
                                    displayColors: false,
                                }
                            },
                            animation: {
                                animateRotate: true,
                                animateScale: true,
                                duration: 1500,
                                easing: 'easeInOutQuart'
                            }
                        }
                    });
                }

                return () => {
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }
                };
            }, [data]);

            return (
                <div className="flex items-center justify-center">
                    <canvas ref={canvasRef} width="400" height="400"></canvas>
                </div>
            );
        };

        const PremiumBarChart = ({ data }) => {
            const canvasRef = useRef(null);
            const chartRef = useRef(null);

            useEffect(() => {
                if (canvasRef.current) {
                    const ctx = canvasRef.current.getContext('2d');
                    
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }

                    chartRef.current = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: data.map(d => d.name),
                            datasets: [
                                {
                                    label: '2024ÎÖÑ',
                                    data: data.map(d => d['2024']),
                                    backgroundColor: 'rgba(148, 163, 184, 0.8)',
                                    borderRadius: 8,
                                    borderSkipped: false,
                                },
                                {
                                    label: '2025ÎÖÑ',
                                    data: data.map(d => d['2025']),
                                    backgroundColor: (context) => {
                                        const gradient = context.chart.ctx.createLinearGradient(0, 0, 0, 400);
                                        gradient.addColorStop(0, '#818CF8');
                                        gradient.addColorStop(1, '#6366F1');
                                        return gradient;
                                    },
                                    borderRadius: 8,
                                    borderSkipped: false,
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'top',
                                    labels: {
                                        usePointStyle: true,
                                        padding: 20,
                                        font: { size: 14, weight: '500' }
                                    }
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(15, 23, 42, 0.95)',
                                    titleFont: { size: 16, weight: 'bold' },
                                    bodyFont: { size: 14 },
                                    padding: 16,
                                    cornerRadius: 12,
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    min: 3.5,
                                    max: 4.5,
                                    grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                    ticks: { font: { size: 12 } }
                                },
                                x: {
                                    grid: { display: false },
                                    ticks: { font: { size: 11 } }
                                }
                            },
                            animation: {
                                duration: 1500,
                                easing: 'easeInOutQuart'
                            }
                        }
                    });
                }

                return () => {
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }
                };
            }, [data]);

            return <canvas ref={canvasRef}></canvas>;
        };

        // Premium Splash Screen
        const PremiumSplashScreen = ({ onFinished }) => {
            const [progress, setProgress] = useState(0);

            useEffect(() => {
                const interval = setInterval(() => {
                    setProgress(prev => {
                        if (prev >= 100) {
                            clearInterval(interval);
                            setTimeout(onFinished, 500);
                            return 100;
                        }
                        return prev + 2;
                    });
                }, 30);

                return () => clearInterval(interval);
            }, [onFinished]);

            return (
                <div className="fixed inset-0 bg-gradient-to-br from-indigo-600 to-purple-600 flex flex-col items-center justify-center z-50">
                    <div className="mb-12 float">
                        <div className="w-40 h-40 text-white glow rounded-full p-4">
                            <SchoolIcon />
                        </div>
                    </div>
                    <h1 className="text-7xl font-black text-white mb-4 tracking-tight zoom-in">
                        2025 ÌïôÍµêÌèâÍ∞Ä
                    </h1>
                    <p className="text-4xl text-white/80 font-medium mb-4 fade-in-up stagger-2">
                        2ÌïôÍ∏∞ Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú
                    </p>
                    <div className="flex items-center gap-4 text-white/90 text-2xl mb-16 fade-in-up stagger-3">
                        <SparkleIcon />
                        <span className="font-medium">696Î™ÖÏùò ÏÜåÏ§ëÌïú ÏùòÍ≤¨</span>
                        <SparkleIcon />
                    </div>
                    <div className="w-80 mx-auto fade-in-up stagger-4">
                        <div className="h-3 bg-white/20 rounded-full overflow-hidden">
                            <div 
                                className="h-full bg-white rounded-full shimmer transition-all duration-300"
                                style={{ width: `${progress}%` }}
                            ></div>
                        </div>
                        <p className="text-white/70 text-center mt-4 text-lg">{progress}% Î°úÎî© Ï§ë...</p>
                    </div>
                </div>
            );
        };

        // Header Component
        const PremiumHeader = ({ schoolName, onEnterPresentation, onOpenDataEditor }) => {
            const handleFullScreen = () => { 
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.error(`Error: ${err.message}`);
                    }); 
                } else {
                    document.exitFullscreen();
                }
            };
            
            return (
                <header className="glass sticky top-0 z-50 px-8 py-4">
                    <div className="max-w-7xl mx-auto flex justify-between items-center">
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white shadow-lg">
                                <SchoolIcon />
                            </div>
                            <div>
                                <h1 className="text-2xl font-bold text-white">{schoolName}</h1>
                                <p className="text-sm text-white/70">2ÌïôÍ∏∞ ÌèâÍ∞Ä Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú</p>
                            </div>
                        </div>
                        <div className="flex items-center gap-3">
                            <button 
                                onClick={onOpenDataEditor}
                                className="btn-premium px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-xl font-semibold backdrop-blur-xl transition-all"
                            >
                                ‚úèÔ∏è Îç∞Ïù¥ÌÑ∞ ÏàòÏ†ï
                            </button>
                            <button 
                                onClick={handleFullScreen}
                                className="btn-premium p-3 bg-white/20 hover:bg-white/30 text-white rounded-xl backdrop-blur-xl transition-all"
                            >
                                ‚õ∂
                            </button>
                            <button 
                                onClick={() => onEnterPresentation()}
                                className="btn-premium px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg transition-all"
                            >
                                üé¨ Î∞úÌëú ÏãúÏûë
                            </button>
                        </div>
                    </div>
                </header>
            );
        };

        // KPI Card Component
        const PremiumKpiCard = ({ data, onDetailClick, delay = 0 }) => {
            const animatedValue = useCountUp(data.value, 0, 2000, data.total ? 2 : (data.unit === '%' ? 1 : 0));
            
            return (
                <div 
                    className="premium-card stat-card p-8 cursor-pointer fade-in-up card-3d"
                    style={{ animationDelay: `${delay}ms` }}
                    onClick={onDetailClick}
                >
                    <div className="flex justify-between items-start mb-6">
                        <div>
                            <p className="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2">
                                {data.title}
                            </p>
                            <div className="flex items-baseline gap-2">
                                <span className="text-5xl font-black text-gray-900 number-counter">
                                    {animatedValue.toLocaleString(undefined, { 
                                        minimumFractionDigits: data.total ? 2 : (data.unit === '%' ? 1 : 0), 
                                        maximumFractionDigits: data.total ? 2 : (data.unit === '%' ? 1 : 0)
                                    })}
                                </span>
                                {data.total && (
                                    <span className="text-2xl font-bold text-gray-400">
                                        /{data.total.toFixed(2)}
                                    </span>
                                )}
                                {data.unit && (
                                    <span className="text-2xl font-bold text-gray-400">{data.unit}</span>
                                )}
                            </div>
                        </div>
                        <div className="text-5xl pulse-slow">
                            {data.icon}
                        </div>
                    </div>
                    <div className="flex items-center gap-2">
                        <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ${
                            data.change >= 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                        }`}>
                            {data.change >= 0 ? '‚ñ≤' : '‚ñº'} {data.change > 0 ? '+' : ''}{data.change}
                        </span>
                        <span className="text-sm text-gray-500">Ï†ÑÎÖÑ ÎåÄÎπÑ</span>
                    </div>
                </div>
            );
        };

        // Category Chart Card
        const CategoryChartCard = ({ data }) => {
            return (
                <div className="glass-white rounded-3xl p-8 h-full fade-in-up" style={{ animationDelay: '300ms' }}>
                    <div className="flex items-center justify-between mb-8">
                        <div>
                            <h3 className="text-2xl font-bold text-gray-900 mb-2">Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÎßåÏ°±ÎèÑ</h3>
                            <p className="text-gray-500">2024 vs 2025 ÎπÑÍµê Î∂ÑÏÑù</p>
                        </div>
                        <div className="inline-flex items-center px-4 py-2 rounded-full text-sm font-bold bg-indigo-100 text-indigo-700">
                            {data.length}Í∞ú Ìï≠Î™©
                        </div>
                    </div>
                    <div className="h-96">
                        <PremiumBarChart data={data} />
                    </div>
                </div>
            );
        };

        // AI Insights Panel
        const PremiumAiInsightsPanel = ({ aiInsights, voices }) => {
            return (
                <div className="glass-white rounded-3xl p-8 h-full flex flex-col fade-in-up" style={{ animationDelay: '400ms' }}>
                    <div className="flex items-center gap-3 mb-6">
                        <div className="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                            <span className="text-xl">ü§ñ</span>
                        </div>
                        <h3 className="text-2xl font-bold text-gray-900">AI Ïù∏ÏÇ¨Ïù¥Ìä∏</h3>
                    </div>
                    
                    <div className="flex-1 space-y-4 overflow-y-auto pr-2 mb-6">
                        {aiInsights.map((insight, index) => (
                            <div 
                                key={index}
                                className="premium-card p-6 hover:shadow-2xl transition-all"
                            >
                                <h4 className="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2">
                                    {insight.title}
                                </h4>
                                <p className="text-gray-600 leading-relaxed text-sm">
                                    {insight.content}
                                </p>
                            </div>
                        ))}
                    </div>

                    <div className="border-t pt-6">
                        <h4 className="text-lg font-bold text-gray-900 mb-4 flex items-center gap-2">
                            <span>üí¨</span> ÏÉùÏÉùÌïú Î™©ÏÜåÎ¶¨
                        </h4>
                        <div className="space-y-3">
                            {voices.map((voice, index) => (
                                <div key={index} className="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4">
                                    <p className="text-gray-800 font-medium mb-2 flex items-start gap-2">
                                        <span className="text-xl">{voice.emoji}</span>
                                        <span className="flex-1">{voice.text}</span>
                                    </p>
                                    <p className="text-sm text-gray-500 text-right">- {voice.source}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // Dashboard Component
        const PremiumDashboard = ({ schoolData, onEnterPresentation, onOpenDataEditor }) => (
            <div className="min-h-screen pb-12">
                <PremiumHeader 
                    schoolName={schoolData.schoolName} 
                    onEnterPresentation={onEnterPresentation}
                    onOpenDataEditor={onOpenDataEditor}
                />
                
                <main className="max-w-7xl mx-auto px-8 py-12">
                    {/* Hero Section */}
                    <div className="text-center mb-16 fade-in-up">
                        <h2 className="display-2 text-white mb-4">
                            2025 ÌïôÍµê ÌèâÍ∞Ä Î¶¨Ìè¨Ìä∏ 
                        </h2>
                        <p className="text-xl text-white/80 font-medium">
                            Îç∞Ïù¥ÌÑ∞ Í∏∞Î∞òÏùò Ï†ïÌôïÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏ÏôÄ Í∞úÏÑ† Î∞©Ìñ•
                        </p>
                    </div>

                    {/* KPI Cards */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                        {schoolData.kpiData.map((kpi, index) => (
                            <PremiumKpiCard 
                                key={index}
                                data={kpi}
                                delay={index * 100}
                                onDetailClick={() => onEnterPresentation(kpi.targetSlide)}
                            />
                        ))}
                    </div>

                    {/* Charts & Insights */}
                    <div className="grid grid-cols-1 lg:grid-cols-5 gap-6 mb-12">
                        <div className="lg:col-span-3">
                            <CategoryChartCard data={schoolData.categoryData} />
                        </div>
                        <div className="lg:col-span-2">
                            <PremiumAiInsightsPanel 
                                aiInsights={schoolData.aiInsights}
                                voices={schoolData.voices}
                            />
                        </div>
                    </div>

                    {/* Respondents Overview */}
                    <div className="glass-white rounded-3xl p-8 fade-in-up" style={{ animationDelay: '500ms' }}>
                        <h3 className="text-2xl font-bold text-gray-900 mb-8">ÏùëÎãµÏûê Íµ¨ÏÑ±</h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div className="w-full max-w-sm mx-auto">
                                <PremiumPieChart data={schoolData.respondentData} />
                            </div>
                            <div className="space-y-4">
                                {schoolData.respondentData.map((item, index) => (
                                    <div key={index} className="flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl">
                                        <div className="flex items-center gap-4">
                                            <div 
                                                className="w-4 h-4 rounded-full shadow-lg"
                                                style={{ backgroundColor: item.color }}
                                            ></div>
                                            <span className="font-semibold text-gray-800">{item.name}</span>
                                        </div>
                                        <span className="text-3xl font-black text-gray-900 number-counter">
                                            {item.value.toLocaleString()}
                                            <span className="text-lg text-gray-500 ml-1">Î™Ö</span>
                                        </span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        );

        // ============================================
        // PRESENTATION SLIDES - Enhanced with Animations
        // ============================================

        const SlideWrapper = ({ children, className = '' }) => (
            <div className={`w-full h-full flex flex-col justify-center items-center text-center p-12 ${className}`}>
                {children}
            </div>
        );

        // Slide 0: Title Slide
        const TitleSlide = ({ schoolData }) => {
            const totalParticipants = schoolData.kpiData.find(k => k.title === 'Ï¥ù Ï∞∏Ïó¨ Ïù∏Ïõê')?.value || 0;
            return (
                <SlideWrapper>
                    <div className="zoom-in">
                        <div className="inline-block p-10 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 mb-12 float glow">
                            <div className="w-40 h-40 text-white">
                                <SchoolIcon />
                            </div>
                        </div>
                        <h1 className="display-1 text-white mb-8">
                            2025 ÌïôÍµê ÌèâÍ∞Ä
                        </h1>
                        <p className="text-6xl text-white/90 font-bold mb-6 fade-in-up stagger-2">
                            <span className="text-yellow-300">{totalParticipants.toLocaleString()}</span>Î™ÖÏùò Ïù¥ÏïºÍ∏∞
                        </p>
                        <p className="text-4xl text-white/70 font-medium mb-8 fade-in-up stagger-3">
                            2ÌïôÍ∏∞ Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏
                        </p>
                        <div className="flex items-center justify-center gap-6 text-white/70 text-3xl fade-in-up stagger-4">
                            <span className="sparkle">‚ú®</span>
                            <span>Îç∞Ïù¥ÌÑ∞ Í∏∞Î∞ò Ïù∏ÏÇ¨Ïù¥Ìä∏</span>
                            <span className="sparkle">‚ú®</span>
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 1: Overall Score Slide
        const OverallScoreSlide = ({ schoolData }) => {
            const overallKpi = schoolData.kpiData.find(k => k.title === 'Ï¢ÖÌï© ÎßåÏ°±ÎèÑ');
            const score = useCountUp(overallKpi.value, 0, 2500, 2);
            const percentage = useCountUp((overallKpi.value / overallKpi.total) * 100, 0, 2500, 1);
            
            return (
                <SlideWrapper>
                    <div className="fade-in-scale">
                        <p className="text-4xl text-white/70 font-semibold mb-10">‚≠ê Ï¢ÖÌï© ÎßåÏ°±ÎèÑ ‚≠ê</p>
                        <div className="mb-16">
                            <span className="display-1 text-white number-counter font-black glow" style={{textShadow: '0 0 60px rgba(255,255,255,0.5)'}}>
                                {score.toFixed(2)}
                            </span>
                            <span className="text-7xl text-white/50 font-bold">
                                /{overallKpi.total.toFixed(1)}
                            </span>
                        </div>
                        <div className="w-full max-w-4xl mx-auto mb-12">
                            <div className="h-10 bg-white/20 rounded-full overflow-hidden backdrop-blur-xl shadow-2xl">
                                <div 
                                    className="h-full bg-gradient-to-r from-green-400 via-emerald-400 to-teal-500 rounded-full progress-animate"
                                    style={{ width: `${percentage}%` }}
                                ></div>
                            </div>
                            <p className="text-4xl text-white/80 mt-6 font-bold">{percentage.toFixed(1)}% Îã¨ÏÑ±</p>
                        </div>
                        <div className={`inline-block px-12 py-6 backdrop-blur-xl rounded-3xl border-2 slide-up-bounce ${overallKpi.change >= 0 ? 'bg-green-500/20 border-green-400/50' : 'bg-orange-500/20 border-orange-400/50'}`}>
                            <p className={`text-4xl font-bold ${overallKpi.change >= 0 ? 'text-green-300' : 'text-orange-300'}`}>
                                {overallKpi.change >= 0 ? 'üìà ‚ñ≤' : 'üìâ ‚ñº'} Ï†ÑÎÖÑ ÎåÄÎπÑ {overallKpi.change >= 0 ? '+' : ''}{overallKpi.change.toFixed(2)}Ï†ê
                            </p>
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 2: Participants Slide
        const ParticipantsSlide = ({ schoolData }) => {
            const total = schoolData.respondentData.reduce((sum, item) => sum + item.value, 0);
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-scale">
                        <h2 className="text-6xl font-bold text-white mb-16">üë• ÏùëÎãµÏûê Íµ¨ÏÑ±</h2>
                        <div className="grid grid-cols-2 gap-16 items-center">
                            <div className="flex items-center justify-center zoom-in" style={{ width: '400px', height: '400px', margin: '0 auto' }}>
                                <PremiumPieChart data={schoolData.respondentData} />
                            </div>
                            <div className="space-y-6 text-left">
                                {schoolData.respondentData.map((d, index) => (
                                    <div 
                                        key={index} 
                                        className={`flex items-center justify-between p-6 bg-white/10 backdrop-blur-xl rounded-2xl border border-white/20 slide-up-bounce card-3d`}
                                        style={{ animationDelay: `${index * 150}ms` }}
                                    >
                                        <div className="flex items-center gap-4">
                                            <div 
                                                className="w-8 h-8 rounded-full shadow-lg"
                                                style={{ backgroundColor: d.color }}
                                            ></div>
                                            <span className="text-3xl font-bold text-white">{d.name}</span>
                                        </div>
                                        <span className="text-5xl font-black text-white number-counter">
                                            {d.value.toLocaleString()}
                                            <span className="text-2xl text-white/70 ml-2">Î™Ö</span>
                                        </span>
                                    </div>
                                ))}
                                <div className="mt-8 p-6 bg-gradient-to-r from-indigo-500/30 to-purple-500/30 rounded-2xl border border-indigo-400/30 fade-in-up stagger-5">
                                    <p className="text-3xl text-white font-bold text-center">
                                        Ï¥ù <span className="text-5xl text-yellow-300">{total.toLocaleString()}</span>Î™Ö Ï∞∏Ïó¨ üéâ
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 3: Actual Response Rates Slide (Updated)
        const ResponseRateSlide = ({ schoolData }) => {
            const { responseRates } = schoolData;
            const rates = [
                { label: 'ÍµêÏÇ¨', key: 'teacher', color: '#6366F1' },
                { label: 'ÌïôÏÉù', key: 'student', color: '#EC4899' },
                { label: 'ÌïôÎ∂ÄÎ™®', key: 'parent', color: '#10B981' },
                { label: 'ÏßÅÏõê', key: 'staff', color: '#F59E0B' }
            ];

            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-up">
                        <h2 className="text-6xl font-bold text-white mb-16">üìä Í∑∏Î£πÎ≥Ñ Ïã§Ï†ú ÏùëÎãµÎ•†</h2>
                        <div className="grid grid-cols-2 gap-10">
                            {rates.map((rate, index) => {
                                const value = responseRates[rate.key] || 0;
                                return (
                                    <div 
                                        key={rate.key}
                                        className="bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20 slide-up-bounce"
                                        style={{ animationDelay: `${index * 150}ms` }}
                                    >
                                        <div className="flex items-center justify-between mb-4">
                                            <span className="text-3xl font-bold text-white flex items-center gap-3">
                                                <div className="w-6 h-6 rounded-full" style={{backgroundColor: rate.color}}></div>
                                                {rate.label}
                                            </span>
                                            <span className="text-4xl font-black text-white number-counter">{value}%</span>
                                        </div>
                                        <div className="h-6 bg-white/20 rounded-full overflow-hidden">
                                            <div 
                                                className="h-full rounded-full progress-animate"
                                                style={{ 
                                                    width: `${value}%`,
                                                    backgroundColor: rate.color
                                                }}
                                            ></div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 4: Category Change Slide
        const CategoryChangeSlide = ({ schoolData }) => {
            const { categoryData } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-12">üìä Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÎßåÏ°±ÎèÑ Î≥ÄÌôî</h2>
                        <div className="grid grid-cols-2 gap-5">
                            {categoryData.map((cat, idx) => {
                                const change = (cat['2025'] - cat['2024']).toFixed(2);
                                const isPositive = parseFloat(change) >= 0;
                                return (
                                    <div 
                                        key={idx} 
                                        className={`bg-white/10 backdrop-blur-xl rounded-2xl p-5 border border-white/20 slide-up-bounce card-3d`}
                                        style={{ animationDelay: `${idx * 100}ms` }}
                                    >
                                        <div className="flex justify-between items-center">
                                            <p className="text-xl text-white font-semibold">{cat.name}</p>
                                            <div className="flex items-center gap-4">
                                                <span className="text-white/60 text-lg">{cat['2024']}</span>
                                                <span className="text-white/40 text-2xl">‚Üí</span>
                                                <span className="text-3xl font-bold text-white">{cat['2025']}</span>
                                                <span className={`text-lg px-3 py-1 rounded-full ${isPositive ? 'bg-green-500/30 text-green-300' : 'bg-red-500/30 text-red-300'}`}>
                                                    {isPositive ? '+' : ''}{change}
                                                </span>
                                            </div>
                                        </div>
                                        <div className="mt-4 h-3 bg-white/20 rounded-full overflow-hidden">
                                            <div 
                                                className="h-full bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full progress-animate"
                                                style={{ width: `${(cat['2025'] / 5) * 100}%` }}
                                            ></div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 5: Group Comparison Slide
        const ComparisonSlide = ({ schoolData }) => {
            const { comparisonData, respondentData } = schoolData;
            
            const groups = [
                { key: 'teacher', name: 'ÍµêÏõê', color: '#6366F1', data: comparisonData.teacher },
                { key: 'student', name: 'ÌïôÏÉù', color: '#EC4899', data: comparisonData.student },
                { key: 'parent', name: 'ÌïôÎ∂ÄÎ™®', color: '#10B981', data: comparisonData.parent },
                { key: 'staff', name: 'ÏßÅÏõê', color: '#F59E0B', data: comparisonData.staff },
            ];
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-12">üèÖ Í∑∏Î£πÎ≥Ñ ÎßåÏ°±ÎèÑ ÎπÑÍµê</h2>
                        <div className="grid grid-cols-4 gap-6">
                            {groups.map((group, idx) => (
                                <div 
                                    key={idx}
                                    className={`bg-white/10 backdrop-blur-xl rounded-3xl p-6 border border-white/20 flip-in`}
                                    style={{ animationDelay: `${idx * 150}ms` }}
                                >
                                    <div className="flex items-center gap-3 mb-6">
                                        <div className="w-5 h-5 rounded-full" style={{ backgroundColor: group.color }}></div>
                                        <h3 className="text-2xl font-bold text-white">{group.name}</h3>
                                    </div>
                                    <div className="text-center mb-6">
                                        <p className="text-6xl font-black text-white number-counter glow">{group.data.average}</p>
                                        <p className="text-lg text-white/60 mt-2">ÌèâÍ∑† Ï†êÏàò</p>
                                    </div>
                                    <div className="space-y-3">
                                        <div className="bg-green-500/20 p-3 rounded-xl">
                                            <p className="text-sm text-white/60">ÏµúÍ≥†Ï†ê</p>
                                            <p className="text-2xl font-bold text-green-300">{group.data.highest}</p>
                                        </div>
                                        <div className="bg-orange-500/20 p-3 rounded-xl">
                                            <p className="text-sm text-white/60">ÏµúÏ†ÄÏ†ê</p>
                                            <p className="text-2xl font-bold text-orange-300">{group.data.lowest}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 6: Top Items Slide (ÍµêÏõê)
        const TopItemsTeacherSlide = ({ schoolData }) => {
            const { topBottomItems } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-5xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-4">üèÜ TOP 3 Ìï≠Î™© (ÍµêÏõê)</h2>
                        <p className="text-2xl text-white/60 mb-12">Í∞ÄÏû• ÎÜíÏùÄ ÎßåÏ°±ÎèÑÎ•º Í∏∞Î°ùÌïú Ìï≠Î™©</p>
                        <div className="space-y-6">
                            {topBottomItems.teacherTop.map((item, idx) => (
                                <div 
                                    key={idx}
                                    className={`bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-xl rounded-2xl p-8 border border-green-400/30 slide-in-right`}
                                    style={{ animationDelay: `${idx * 200}ms` }}
                                >
                                    <div className="flex items-center justify-between gap-6">
                                        <div className="flex items-center gap-6">
                                            <span className="text-5xl">{idx === 0 ? 'ü•á' : idx === 1 ? 'ü•à' : 'ü•â'}</span>
                                            <p className="text-2xl text-white/90 text-left">{item.title}</p>
                                        </div>
                                        <span className="text-4xl font-black text-green-300 whitespace-nowrap">{item.score}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 7: Top Items Slide (ÌïôÏÉù)
        const TopItemsStudentSlide = ({ schoolData }) => {
            const { topBottomItems } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-5xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-4">üèÜ TOP 3 Ìï≠Î™© (ÌïôÏÉù)</h2>
                        <p className="text-2xl text-white/60 mb-12">ÌïôÏÉùÎì§Ïù¥ Í∞ÄÏû• ÎßåÏ°±Ìïú Ìï≠Î™©</p>
                        <div className="space-y-6">
                            {topBottomItems.studentTop.map((item, idx) => (
                                <div 
                                    key={idx}
                                    className={`bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-xl rounded-2xl p-8 border border-green-400/30 slide-in-right`}
                                    style={{ animationDelay: `${idx * 200}ms` }}
                                >
                                    <div className="flex items-center justify-between gap-6">
                                        <div className="flex items-center gap-6">
                                            <span className="text-5xl">{idx === 0 ? 'ü•á' : idx === 1 ? 'ü•à' : 'ü•â'}</span>
                                            <p className="text-2xl text-white/90 text-left">{item.title}</p>
                                        </div>
                                        <span className="text-4xl font-black text-green-300 whitespace-nowrap">{item.score}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 8: Improvement Items Slide (ÍµêÏõê)
        const ImprovementTeacherSlide = ({ schoolData }) => {
            const { topBottomItems } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-5xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-4">‚ö†Ô∏è Í∞úÏÑ† ÌïÑÏöî Ìï≠Î™© (ÍµêÏõê)</h2>
                        <p className="text-2xl text-white/60 mb-12">ÍµêÏõêÏù¥ Í∞ÄÏû• ÎÇÆÍ≤å ÌèâÍ∞ÄÌïú ÏòÅÏó≠</p>
                        <div className="space-y-6">
                            {topBottomItems.teacherBottom.map((item, idx) => (
                                <div 
                                    key={idx}
                                    className={`bg-gradient-to-r from-red-500/20 to-pink-500/20 backdrop-blur-xl rounded-2xl p-8 border border-red-400/30 slide-in-right`}
                                    style={{ animationDelay: `${idx * 200}ms` }}
                                >
                                    <div className="flex items-center justify-between gap-6">
                                        <div className="flex items-center gap-6">
                                            <span className="text-5xl">üëé</span>
                                            <p className="text-2xl text-white/90 text-left">{item.title}</p>
                                        </div>
                                        <span className="text-4xl font-black text-red-300 whitespace-nowrap">{item.score}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 9: Improvement Items Slide (ÌïôÏÉù)
        const ImprovementStudentSlide = ({ schoolData }) => {
            const { topBottomItems } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-5xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-4">‚ö†Ô∏è Í∞úÏÑ† ÌïÑÏöî Ìï≠Î™© (ÌïôÏÉù)</h2>
                        <p className="text-2xl text-white/60 mb-12">ÌïôÏÉùÏù¥ Í∞ÄÏû• ÎÇÆÍ≤å ÌèâÍ∞ÄÌïú ÏòÅÏó≠</p>
                        <div className="space-y-6">
                            {topBottomItems.studentBottom.map((item, idx) => (
                                <div 
                                    key={idx}
                                    className={`bg-gradient-to-r from-red-500/20 to-pink-500/20 backdrop-blur-xl rounded-2xl p-8 border border-red-400/30 slide-in-right`}
                                    style={{ animationDelay: `${idx * 200}ms` }}
                                >
                                    <div className="flex items-center justify-between gap-6">
                                        <div className="flex items-center gap-6">
                                            <span className="text-5xl">üòü</span>
                                            <p className="text-2xl text-white/90 text-left">{item.title}</p>
                                        </div>
                                        <span className="text-4xl font-black text-red-300 whitespace-nowrap">{item.score}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 10: Trend Slide (Í∏∞Ï°¥ 9Î≤à)
        const TrendSlide = ({ schoolData }) => {
            const { trendData } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-12">üìà 4Í∞úÎÖÑ ÎßåÏ°±ÎèÑ Ï∂îÏù¥</h2>
                        <div className="grid grid-cols-4 gap-6">
                            {trendData.map((data, idx) => (
                                <div 
                                    key={idx} 
                                    className={`bg-white/10 backdrop-blur-xl rounded-3xl p-6 border border-white/20 rotate-in card-3d`}
                                    style={{ animationDelay: `${idx * 150}ms` }}
                                >
                                    <p className="text-4xl font-black text-white mb-6">{data.year}</p>
                                    <div className="space-y-4">
                                        <div className="bg-indigo-500/20 p-3 rounded-xl">
                                            <p className="text-sm text-indigo-300">ÍµêÏõê</p>
                                            <p className="text-2xl font-bold text-white">{data.teacher}</p>
                                        </div>
                                        <div className="bg-pink-500/20 p-3 rounded-xl">
                                            <p className="text-sm text-pink-300">ÌïôÏÉù</p>
                                            <p className="text-2xl font-bold text-white">{data.student}</p>
                                        </div>
                                        <div className="bg-emerald-500/20 p-3 rounded-xl">
                                            <p className="text-sm text-emerald-300">ÌïôÎ∂ÄÎ™®</p>
                                            <p className="text-2xl font-bold text-white">{data.parent}</p>
                                        </div>
                                        <div className="bg-amber-500/20 p-3 rounded-xl">
                                            <p className="text-sm text-amber-300">ÏßÅÏõê</p>
                                            <p className="text-2xl font-bold text-white">{data.staff}</p>
                                        </div>
                                        <div className="pt-3 border-t border-white/20">
                                            <p className="text-sm text-white/60">ÌèâÍ∑†</p>
                                            <p className="text-3xl font-black text-yellow-300">{data.overall}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 11: Trend Line Chart Slide (ÏÉàÎ°ú Ï∂îÍ∞Ä)
        const TrendBarChartSlide = ({ schoolData }) => {
            const canvasRef = useRef(null);
            const chartRef = useRef(null);
            const { trendData } = schoolData;

            useEffect(() => {
                if (canvasRef.current) {
                    const ctx = canvasRef.current.getContext('2d');
                    
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }

                    chartRef.current = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: trendData.map(d => d.year + 'ÎÖÑ'),
                            datasets: [
                                {
                                    label: 'ÍµêÏõê',
                                    data: trendData.map(d => d.teacher),
                                    borderColor: 'rgba(99, 102, 241, 1)',
                                    backgroundColor: 'rgba(99, 102, 241, 0.2)',
                                    borderWidth: 4,
                                    pointRadius: 8,
                                    pointHoverRadius: 12,
                                    pointBackgroundColor: 'rgba(99, 102, 241, 1)',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    tension: 0.3,
                                    fill: false,
                                },
                                {
                                    label: 'ÌïôÏÉù',
                                    data: trendData.map(d => d.student),
                                    borderColor: 'rgba(236, 72, 153, 1)',
                                    backgroundColor: 'rgba(236, 72, 153, 0.2)',
                                    borderWidth: 4,
                                    pointRadius: 8,
                                    pointHoverRadius: 12,
                                    pointBackgroundColor: 'rgba(236, 72, 153, 1)',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    tension: 0.3,
                                    fill: false,
                                },
                                {
                                    label: 'ÌïôÎ∂ÄÎ™®',
                                    data: trendData.map(d => d.parent),
                                    borderColor: 'rgba(16, 185, 129, 1)',
                                    backgroundColor: 'rgba(16, 185, 129, 0.2)',
                                    borderWidth: 4,
                                    pointRadius: 8,
                                    pointHoverRadius: 12,
                                    pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    tension: 0.3,
                                    fill: false,
                                },
                                {
                                    label: 'ÏßÅÏõê',
                                    data: trendData.map(d => d.staff),
                                    borderColor: 'rgba(245, 158, 11, 1)',
                                    backgroundColor: 'rgba(245, 158, 11, 0.2)',
                                    borderWidth: 4,
                                    pointRadius: 8,
                                    pointHoverRadius: 12,
                                    pointBackgroundColor: 'rgba(245, 158, 11, 1)',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    tension: 0.3,
                                    fill: false,
                                },
                                {
                                    label: 'ÌèâÍ∑†',
                                    data: trendData.map(d => d.overall),
                                    borderColor: 'rgba(139, 92, 246, 1)',
                                    backgroundColor: 'rgba(139, 92, 246, 0.2)',
                                    borderWidth: 5,
                                    pointRadius: 10,
                                    pointHoverRadius: 14,
                                    pointBackgroundColor: 'rgba(139, 92, 246, 1)',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    tension: 0.3,
                                    fill: false,
                                    borderDash: [],
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            interaction: {
                                mode: 'index',
                                intersect: false,
                            },
                            plugins: {
                                legend: {
                                    position: 'top',
                                    labels: {
                                        color: 'rgba(255, 255, 255, 0.9)',
                                        usePointStyle: true,
                                        pointStyle: 'circle',
                                        padding: 20,
                                        font: { size: 16, weight: '600' }
                                    }
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(15, 23, 42, 0.95)',
                                    titleFont: { size: 18, weight: 'bold' },
                                    bodyFont: { size: 16 },
                                    padding: 16,
                                    cornerRadius: 12,
                                    callbacks: {
                                        label: function(context) {
                                            return context.dataset.label + ': ' + context.raw.toFixed(2) + 'Ï†ê';
                                        }
                                    }
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    min: 3.0,
                                    max: 5.0,
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                    ticks: { 
                                        color: 'rgba(255, 255, 255, 0.8)',
                                        font: { size: 14, weight: '500' },
                                        callback: function(value) {
                                            return value.toFixed(1);
                                        }
                                    }
                                },
                                x: {
                                    grid: { color: 'rgba(255, 255, 255, 0.05)' },
                                    ticks: { 
                                        color: 'rgba(255, 255, 255, 0.9)',
                                        font: { size: 18, weight: '700' }
                                    }
                                }
                            },
                            animation: {
                                duration: 1500,
                                easing: 'easeInOutQuart'
                            }
                        }
                    });
                }

                return () => {
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }
                };
            }, [trendData]);

            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-4">üìà 4Í∞úÎÖÑ ÎßåÏ°±ÎèÑ Ï∂îÏù¥ Í∑∏ÎûòÌîÑ</h2>
                        <p className="text-2xl text-white/60 mb-10">Í∑∏Î£πÎ≥Ñ Ïó∞ÎèÑÎ≥Ñ ÎßåÏ°±ÎèÑ Î≥ÄÌôî</p>
                        <div className="bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20" style={{ height: '500px' }}>
                            <canvas ref={canvasRef}></canvas>
                        </div>
                        <div className="mt-8 grid grid-cols-5 gap-4">
                            <div className="bg-indigo-500/20 backdrop-blur-xl rounded-2xl p-4 border border-indigo-400/30 text-center slide-up-bounce" style={{ animationDelay: '0ms' }}>
                                <div className="w-4 h-4 mx-auto rounded-full bg-indigo-500 mb-2"></div>
                                <p className="text-white/80 text-lg">ÍµêÏõê</p>
                            </div>
                            <div className="bg-pink-500/20 backdrop-blur-xl rounded-2xl p-4 border border-pink-400/30 text-center slide-up-bounce" style={{ animationDelay: '100ms' }}>
                                <div className="w-4 h-4 mx-auto rounded-full bg-pink-500 mb-2"></div>
                                <p className="text-white/80 text-lg">ÌïôÏÉù</p>
                            </div>
                            <div className="bg-emerald-500/20 backdrop-blur-xl rounded-2xl p-4 border border-emerald-400/30 text-center slide-up-bounce" style={{ animationDelay: '200ms' }}>
                                <div className="w-4 h-4 mx-auto rounded-full bg-emerald-500 mb-2"></div>
                                <p className="text-white/80 text-lg">ÌïôÎ∂ÄÎ™®</p>
                            </div>
                            <div className="bg-amber-500/20 backdrop-blur-xl rounded-2xl p-4 border border-amber-400/30 text-center slide-up-bounce" style={{ animationDelay: '300ms' }}>
                                <div className="w-4 h-4 mx-auto rounded-full bg-amber-500 mb-2"></div>
                                <p className="text-white/80 text-lg">ÏßÅÏõê</p>
                            </div>
                            <div className="bg-violet-500/20 backdrop-blur-xl rounded-2xl p-4 border border-violet-400/30 text-center slide-up-bounce" style={{ animationDelay: '400ms' }}>
                                <div className="w-4 h-4 mx-auto rounded-full bg-violet-500 mb-2"></div>
                                <p className="text-white/80 text-lg">ÌèâÍ∑†</p>
                            </div>
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 12: Insights Slide (Í∏∞Ï°¥ 11Î≤à)
        const InsightsSlide = ({ schoolData }) => {
            const { aiInsights } = schoolData;
            
            const getTypeStyle = (type) => {
                switch(type) {
                    case 'achievement': return 'from-green-500/20 to-emerald-500/20 border-green-400/30';
                    case 'improvement': return 'from-red-500/20 to-pink-500/20 border-red-400/30';
                    case 'action': return 'from-purple-500/20 to-pink-500/20 border-purple-400/30';
                    default: return 'from-blue-500/20 to-cyan-500/20 border-blue-400/30';
                }
            };
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-5xl fade-in-scale">
                        <h2 className="text-5xl font-bold text-white mb-12">ü§ñ AI ÌïµÏã¨ Ïù∏ÏÇ¨Ïù¥Ìä∏</h2>
                        <div className="space-y-5">
                            {aiInsights.map((insight, idx) => (
                                <div 
                                    key={idx}
                                    className={`bg-gradient-to-r ${getTypeStyle(insight.type)} backdrop-blur-xl rounded-2xl p-6 border slide-up-bounce`}
                                    style={{ animationDelay: `${idx * 150}ms` }}
                                >
                                    <h3 className="text-2xl font-bold text-white mb-2">{insight.title}</h3>
                                    <p className="text-xl text-white/80">{insight.content}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 12: Action Items Slide (Í∏∞Ï°¥ 11Î≤à)
        const ActionItemsSlide = ({ schoolData }) => {
            const { actionItems } = schoolData;
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-6xl fade-in-up">
                        <h2 className="text-5xl font-bold text-white mb-8">üéØ ÌïµÏã¨ Ïã§Ìñâ Í≥ºÏ†ú</h2>
                        <div className="space-y-5">
                            {actionItems.map((item, index) => (
                                <div 
                                    key={index}
                                    className={`bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl flip-in`}
                                    style={{ animationDelay: `${index * 200}ms` }}
                                >
                                    <div className="flex items-start gap-6">
                                        <div className="w-20 h-20 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-4xl shadow-lg bounce">
                                            {item.icon}
                                        </div>
                                        <div className="flex-1 text-left">
                                            <div className="flex items-center gap-4 mb-4">
                                                <span className="px-5 py-2 bg-indigo-600 text-white rounded-full text-lg font-bold shadow-md">
                                                    Ïö∞ÏÑ†ÏàúÏúÑ {item.priority}
                                                </span>
                                                <h3 className="text-3xl font-bold text-gray-900">{item.title}</h3>
                                            </div>
                                            <ul className="flex flex-wrap gap-3">
                                                {item.details.map((detail, i) => (
                                                    <li key={i} className="flex items-center gap-2 bg-indigo-50 border-2 border-indigo-100 px-5 py-2 rounded-full text-lg font-semibold text-indigo-900">
                                                        <span className="text-indigo-600 font-bold">‚úì</span>
                                                        <span>{detail}</span>
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 13: Roadmap Slide (Í∏∞Ï°¥ 12Î≤à)
        const RoadmapSlide = ({ schoolData }) => (
            <SlideWrapper>
                <div className="w-full max-w-6xl fade-in-up">
                    <h2 className="text-5xl font-bold text-white mb-16">üó∫Ô∏è 2026 Ïã§Ìñâ Î°úÎìúÎßµ</h2>
                    <div className="relative">
                        <div className="absolute top-1/2 left-0 right-0 h-2 bg-white/20 rounded-full"></div>
                        <div className="grid grid-cols-4 gap-8 relative">
                            {schoolData.roadmap.map((item, index) => (
                                <div 
                                    key={index} 
                                    className={`text-center slide-up-bounce`}
                                    style={{ animationDelay: `${index * 200}ms` }}
                                >
                                    <div className="mb-8">
                                        <div 
                                            className={`w-20 h-20 mx-auto rounded-full border-4 border-white shadow-2xl glow wave-${index + 1}`}
                                            style={{ backgroundColor: item.color }}
                                        ></div>
                                    </div>
                                    <div className="bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-xl card-3d">
                                        <div className="text-3xl font-black text-gray-900 mb-2">{item.quarter}</div>
                                        <div className="text-lg text-gray-500 mb-4">{item.period}</div>
                                        <div className="text-lg font-semibold text-gray-700">{item.task}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            </SlideWrapper>
        );

        // Slide 14: Goal Slide (Í∏∞Ï°¥ 13Î≤à)
        const GoalSlide = ({ schoolData }) => {
            const { goal } = schoolData;
            const currentScore = useCountUp(goal.currentScore, 0, 2000, 2);
            const targetScore = useCountUp(goal.targetScore, 0, 2500, 2);
            
            return (
                <SlideWrapper>
                    <div className="w-full max-w-5xl zoom-in">
                        <h2 className="text-6xl font-bold text-white mb-16">üéØ 2026 Î™©Ìëú</h2>
                        <div className="bg-white/10 backdrop-blur-xl rounded-3xl p-16 border border-white/20">
                            <p className="text-4xl text-white/70 font-semibold mb-12 text-center">Ï¢ÖÌï© ÎßåÏ°±ÎèÑ</p>
                            <div className="flex items-center justify-center gap-16">
                                <div className="text-center">
                                    <p className="text-2xl text-white/60 mb-4">ÌòÑÏû¨</p>
                                    <span className="text-8xl font-black text-white number-counter">{currentScore.toFixed(2)}</span>
                                </div>
                                <span className="text-8xl text-white/50 bounce">‚Üí</span>
                                <div className="text-center">
                                    <p className="text-2xl text-green-300 mb-4">Î™©Ìëú</p>
                                    <span className="text-8xl font-black text-green-400 number-counter glow">{targetScore.toFixed(2)}</span>
                                </div>
                            </div>
                            <div className="mt-12 text-center">
                                <span className="inline-block px-8 py-4 bg-green-500/20 rounded-full text-3xl font-bold text-green-300 border border-green-400/30">
                                    üìà +{(goal.targetScore - goal.currentScore).toFixed(2)}Ï†ê ÏÉÅÏäπ Î™©Ìëú
                                </span>
                            </div>
                        </div>
                    </div>
                </SlideWrapper>
            );
        };

        // Slide 15: Closing Slide (Í∏∞Ï°¥ 14Î≤à)
        const ClosingSlide = ({ schoolData }) => (
            <SlideWrapper>
                <div className="zoom-in">
                    <div className="inline-block p-12 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 mb-12 float glow">
                        <div className="w-48 h-48 text-white">
                            <SchoolIcon />
                        </div>
                    </div>
                    <h2 className="display-2 text-white mb-8">Í∞êÏÇ¨Ìï©ÎãàÎã§</h2>
                    <p className="text-4xl text-white/80 font-medium mb-4">
                        Îçî ÎÇòÏùÄ <span className="text-yellow-300 font-bold">{schoolData.schoolName}</span>ÏùÑ ÏúÑÌï¥
                    </p>
                    <p className="text-4xl text-white/80 font-medium mb-12">
                        Ìï®Íªò ÎÇòÏïÑÍ∞ëÏãúÎã§
                    </p>
                    <div className="flex items-center justify-center gap-6 text-6xl fade-in-up stagger-3">
                        <span className="wave-1">üéì</span>
                        <span className="wave-2">üìö</span>
                        <span className="wave-3">üí™</span>
                        <span className="wave-4">üåü</span>
                    </div>
                </div>
            </SlideWrapper>
        );

        // Presentation Mode Component
        const PremiumPresentationMode = ({ schoolData, onExit, startSlide = 0 }) => {
            const [currentSlide, setCurrentSlide] = useState(startSlide);
            
            // Í∏∞Ï°¥ 15Í∞ú Ïä¨ÎùºÏù¥Îìú -> 16Í∞ú Ïä¨ÎùºÏù¥ÎìúÎ°ú Î≥ÄÍ≤Ω Î∞è ÏàúÏÑú Ï°∞Ï†ï
            const slides = [
                <TitleSlide key={0} schoolData={schoolData} />,
                <OverallScoreSlide key={1} schoolData={schoolData} />,
                <ParticipantsSlide key={2} schoolData={schoolData} />,
                <ResponseRateSlide key={3} schoolData={schoolData} />,
                <CategoryChangeSlide key={4} schoolData={schoolData} />,
                <ComparisonSlide key={5} schoolData={schoolData} />,
                <TopItemsTeacherSlide key={6} schoolData={schoolData} />,
                <TopItemsStudentSlide key={7} schoolData={schoolData} />,
                <ImprovementTeacherSlide key={8} schoolData={schoolData} />,
                <ImprovementStudentSlide key={9} schoolData={schoolData} />,
                <TrendSlide key={10} schoolData={schoolData} />,
                <TrendBarChartSlide key={11} schoolData={schoolData} />,
                <InsightsSlide key={12} schoolData={schoolData} />,
                <ActionItemsSlide key={13} schoolData={schoolData} />,
                <RoadmapSlide key={14} schoolData={schoolData} />,
                <GoalSlide key={15} schoolData={schoolData} />,
                <ClosingSlide key={16} schoolData={schoolData} />,
            ];
            
            const totalSlides = slides.length;
            
            const goNext = () => {
                setCurrentSlide(prev => Math.min(prev + 1, totalSlides - 1));
            };
            
            const goPrev = () => {
                setCurrentSlide(prev => Math.max(prev - 1, 0));
            };
            
            useEffect(() => {
                const handleKey = (e) => {
                    if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') {
                        e.preventDefault();
                        goNext();
                    } else if (e.key === 'ArrowLeft') {
                        e.preventDefault();
                        goPrev();
                    } else if (e.key === 'Escape') {
                        e.preventDefault();
                        onExit();
                    }
                };
                
                window.addEventListener('keydown', handleKey);
                return () => window.removeEventListener('keydown', handleKey);
            }, [currentSlide]);
            
            return (
                <div className="fixed inset-0 presentation-slide z-50">
                    <div className="relative z-10 h-full flex flex-col">
                        <div className="flex-1">
                            {slides[currentSlide]}
                        </div>
                        <div className="p-6">
                            <div className="max-w-3xl mx-auto">
                                <div className="flex items-center justify-between mb-4">
                                    <span className="text-white/60 text-lg font-medium">
                                        {currentSlide + 1} / {totalSlides}
                                    </span>
                                    <div className="flex items-center gap-4">
                                        <button 
                                            onClick={goPrev}
                                            disabled={currentSlide === 0}
                                            className="px-6 py-3 bg-white/20 hover:bg-white/30 disabled:opacity-30 text-white rounded-xl transition-all text-lg font-semibold"
                                        >
                                            ‚Üê Ïù¥Ï†Ñ
                                        </button>
                                        <button 
                                            onClick={goNext}
                                            disabled={currentSlide === totalSlides - 1}
                                            className="px-6 py-3 bg-white/20 hover:bg-white/30 disabled:opacity-30 text-white rounded-xl transition-all text-lg font-semibold"
                                        >
                                            Îã§Ïùå ‚Üí
                                        </button>
                                        <button 
                                            onClick={onExit}
                                            className="px-6 py-3 bg-red-500/80 hover:bg-red-600 text-white rounded-xl transition-all text-lg font-semibold"
                                        >
                                            ESC Ï¢ÖÎ£å
                                        </button>
                                    </div>
                                </div>
                                <div className="h-3 bg-white/20 rounded-full overflow-hidden">
                                    <div 
                                        className="h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-500"
                                        style={{ width: `${((currentSlide + 1) / totalSlides) * 100}%` }}
                                    ></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Data Editor Modal (Í∞ÑÎûµÌôî)
        const DataEditorModal = ({ initialData, onSave, onClose }) => {
            const [data, setData] = useState(JSON.parse(JSON.stringify(initialData)));
            const [activeTab, setActiveTab] = useState('basic');
            
            const updateField = (path, value) => {
                setData(prev => {
                    const newData = JSON.parse(JSON.stringify(prev));
                    const keys = path.split('.');
                    let current = newData;
                    for (let i = 0; i < keys.length - 1; i++) {
                        current = current[keys[i]];
                    }
                    current[keys[keys.length - 1]] = value;
                    return newData;
                });
            };

            return (
                <div className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-8">
                    <div className="bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col">
                        <div className="p-6 border-b border-gray-200 flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-gray-900">üìù Îç∞Ïù¥ÌÑ∞ Ìé∏ÏßëÍ∏∞</h2>
                            <button 
                                onClick={onClose}
                                className="p-2 hover:bg-gray-100 rounded-xl transition-all"
                            >
                                ‚úï
                            </button>
                        </div>

                        <div className="flex-1 overflow-y-auto p-8">
                            <div className="space-y-6 max-w-2xl mx-auto">
                                <div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl">
                                    <h3 className="text-xl font-bold text-gray-900 mb-4">ÌïôÍµê Ï†ïÎ≥¥</h3>
                                    <div>
                                        <label className="form-label">ÌïôÍµê Ïù¥Î¶Ñ</label>
                                        <input
                                            type="text"
                                            value={data.schoolName}
                                            onChange={(e) => updateField('schoolName', e.target.value)}
                                            className="form-input"
                                        />
                                    </div>
                                </div>

                                <div className="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl">
                                    <h3 className="text-xl font-bold text-gray-900 mb-4">Ïã§Ï†ú ÏùëÎãµÎ•† ÏÑ§Ï†ï (%)</h3>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="form-label">ÍµêÏõê ÏùëÎãµÎ•†</label>
                                            <input
                                                type="number"
                                                value={data.responseRates.teacher}
                                                onChange={(e) => updateField('responseRates.teacher', parseFloat(e.target.value))}
                                                className="form-input"
                                                step="0.1"
                                                max="100"
                                            />
                                        </div>
                                        <div>
                                            <label className="form-label">ÌïôÏÉù ÏùëÎãµÎ•†</label>
                                            <input
                                                type="number"
                                                value={data.responseRates.student}
                                                onChange={(e) => updateField('responseRates.student', parseFloat(e.target.value))}
                                                className="form-input"
                                                step="0.1"
                                                max="100"
                                            />
                                        </div>
                                        <div>
                                            <label className="form-label">ÌïôÎ∂ÄÎ™® ÏùëÎãµÎ•†</label>
                                            <input
                                                type="number"
                                                value={data.responseRates.parent}
                                                onChange={(e) => updateField('responseRates.parent', parseFloat(e.target.value))}
                                                className="form-input"
                                                step="0.1"
                                                max="100"
                                            />
                                        </div>
                                        <div>
                                            <label className="form-label">ÏßÅÏõê ÏùëÎãµÎ•†</label>
                                            <input
                                                type="number"
                                                value={data.responseRates.staff}
                                                onChange={(e) => updateField('responseRates.staff', parseFloat(e.target.value))}
                                                className="form-input"
                                                step="0.1"
                                                max="100"
                                            />
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-2xl">
                                    <h3 className="text-xl font-bold text-gray-900 mb-4">ÎßåÏ°±ÎèÑ Î™©Ìëú</h3>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="form-label">ÌòÑÏû¨ Ï†êÏàò</label>
                                            <input
                                                type="number"
                                                value={data.goal.currentScore}
                                                onChange={(e) => updateField('goal.currentScore', parseFloat(e.target.value))}
                                                className="form-input"
                                                step="0.01"
                                            />
                                        </div>
                                        <div>
                                            <label className="form-label">Î™©Ìëú Ï†êÏàò</label>
                                            <input
                                                type="number"
                                                value={data.goal.targetScore}
                                                onChange={(e) => updateField('goal.targetScore', parseFloat(e.target.value))}
                                                className="form-input"
                                                step="0.01"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="p-6 border-t border-gray-200 flex justify-end gap-3 bg-gray-50 rounded-b-3xl">
                            <button 
                                onClick={onClose}
                                className="px-8 py-3 rounded-xl bg-gray-200 hover:bg-gray-300 font-bold text-gray-700 transition-all"
                            >
                                Ï∑®ÏÜå
                            </button>
                            <button 
                                onClick={() => { onSave(data); onClose(); }}
                                className="px-8 py-3 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-bold shadow-lg transition-all"
                            >
                                üíæ Ï†ÄÏû•ÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // App Component
        const App = () => {
            const [appState, setAppState] = useState('splash');
            const [isEditorOpen, setEditorOpen] = useState(false);
            const [schoolData, setSchoolData] = useState(mockSchoolData);
            const [presentationStartSlide, setPresentationStartSlide] = useState(0);

            const handleFinishSplash = useCallback(() => setAppState('dashboard'), []);
            
            const handleEnterPresentation = useCallback((startSlide = 0) => {
                setPresentationStartSlide(startSlide);
                setAppState('presentation');
            }, []);
            
            const handleExitPresentation = useCallback(() => { 
                if (document.fullscreenElement) document.exitFullscreen();
                setAppState('dashboard'); 
            }, []);

            const renderContent = () => {
                switch (appState) {
                    case 'splash': 
                        return <PremiumSplashScreen onFinished={handleFinishSplash} />;
                    case 'dashboard': 
                        return <PremiumDashboard 
                            schoolData={schoolData} 
                            onEnterPresentation={handleEnterPresentation}
                            onOpenDataEditor={() => setEditorOpen(true)} 
                        />;
                    case 'presentation': 
                        return <PremiumPresentationMode 
                            schoolData={schoolData} 
                            onExit={handleExitPresentation}
                            startSlide={presentationStartSlide} 
                        />;
                    default: 
                        return null;
                }
            };

            return (
                <>
                    {renderContent()}
                    {isEditorOpen && ( 
                        <DataEditorModal 
                            initialData={schoolData} 
                            onSave={setSchoolData}
                            onClose={() => setEditorOpen(false)} 
                        /> 
                    )}
                </>
            );
        };

        const rootElement = document.getElementById('root');
        const root = createRoot(rootElement);
        root.render(<App />);
    </script>
</body>
</html>
